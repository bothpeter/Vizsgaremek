<div class="page-container">
    <app-vertical-nav-user></app-vertical-nav-user>
    <div class="container">

        <div class="login-container">
            <div class="login-card">
                <h2>Jelszó módosítása</h2>
                <form (ngSubmit)="onSubmit()" #changePasswordForm="ngForm">
                    <div class="form-group">
                        <label for="newPassword">Új jelszó</label>
                        <input type="password" id="newPassword" name="newPassword" [(ngModel)]="password" required
                            #newPasswordInput="ngModel" placeholder="Add meg az új jelszavad" (input)="onPasswordChange()" />
                        <div *ngIf="newPasswordInput.invalid && (newPasswordInput.dirty || newPasswordInput.touched)"
                            class="error-message">
                            Az új jelszó kötelező.
                        </div>
                        <div *ngIf="passwordError" class="error-message">
                            {{ passwordError }}
                        </div>
                    </div>
        
                    <div class="form-group">
                        <label for="confirmPassword">Jelszó megerősítése</label>
                        <input type="password" id="confirmPassword" name="confirmPassword" [(ngModel)]="password_confirmation"
                            required #confirmPasswordInput="ngModel" placeholder="Erősítsd meg az új jelszavad"
                            (input)="onPasswordChange()" />
                        <div *ngIf="confirmPasswordInput.invalid && (confirmPasswordInput.dirty || confirmPasswordInput.touched)"
                            class="error-message">
                            A jelszó megerősítése kötelező.
                        </div>
                        <div *ngIf="password !== password_confirmation" class="error-message">
                            A jelszavak nem egyeznek.
                        </div>
                    </div>
        
                    <button type="submit" [disabled]="!changePasswordForm.form.valid || password !== password_confirmation">
                        Jelszó módosítása
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>